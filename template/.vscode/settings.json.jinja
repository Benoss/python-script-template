{
    // Python interpreter
    "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
    
    // Use Ty for type checking, not Pylance
    "python.languageServer": "None",
    "basedpyright.disableLanguageServices": true,
    "python.analysis.typeCheckingMode": "off",
    
    // Ruff for formatting and linting
    "[python]": {
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
            "source.fixAll": "explicit",
            "source.organizeImports": "explicit"
        },
        "editor.defaultFormatter": "charliermarsh.ruff"
    },
    
    "ruff.path": ["${workspaceFolder}/.venv/bin/ruff"],
    
    // Testing configuration
    "python.testing.pytestEnabled": true,
    "python.testing.unittestEnabled": false,
    "python.testing.pytestArgs": [
        "tests",
        "-v",
        "--cov={{ project_slug_underscore }}",
        "--cov-report=html",
        "--cov-report=term"
    ],
    
    // Coverage display
    "coverage-gutters.coverageFileNames": [
        "coverage.xml",
        "htmlcov/index.html",
        ".coverage"
    ],
    "coverage-gutters.showGutterCoverage": true,
    "coverage-gutters.showLineCoverage": true,
    "coverage-gutters.showRulerCoverage": true{% if project_type == "django" %},
    
    // Django-specific settings
    "python.analysis.extraPaths": [
        "${workspaceFolder}/{{ project_slug_underscore }}"
    ],
    "files.associations": {
        "*.html": "django-html",
        "**/templates/**/*.html": "django-html",
        "**/templates/**/*.txt": "django-txt"
    },
    "emmet.includeLanguages": {
        "django-html": "html"
    },
    "[django-html]": {
        "editor.formatOnSave": false,
        "editor.quickSuggestions": {
            "other": true,
            "comments": false,
            "strings": true
        }
    },
    
    // Tailwind CSS IntelliSense
    "tailwindCSS.includeLanguages": {
        "django-html": "html"
    },
    "tailwindCSS.experimental.classRegex": [
        ["class:\\s*[\"']([^\"']*)[\"']", "([a-zA-Z0-9\\-:/ ]+)"]
    ]{% endif %}
}
